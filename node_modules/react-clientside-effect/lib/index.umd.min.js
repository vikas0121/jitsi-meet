!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):t.withSideEffect=e(t.React)}(this,function(t){"use strict";var e="default"in t?t.default:t,n=function(t,e,n,o){var r=n?n.call(o,t,e):void 0;if(void 0!==r)return!!r;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var i=Object.keys(t),f=Object.keys(e);if(i.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(e),u=0;u<i.length;u++){var c=i[u];if(!p(c))return!1;var a=t[c],s=e[c];if(!1===(r=n?n.call(o,a,s,c):void 0)||void 0===r&&a!==s)return!1}return!0};return function(o,r){if("function"!=typeof o)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof r)throw new Error("Expected handleStateChangeOnClient to be a function.");return function(i){if("function"!=typeof i)throw new Error("Expected WrappedComponent to be a React component.");var f=[],p=void 0;function u(){p=o(f.map(function(t){return t.props})),r(p)}var c=function(t){function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,t),o.peek=function(){return p},o.prototype.shouldComponentUpdate=function(t){return!n(t,this.props)},o.prototype.componentDidMount=function(){f.push(this),u()},o.prototype.componentDidUpdate=function(){u()},o.prototype.componentWillUnmount=function(){var t=f.indexOf(this);f.splice(t,1),u()},o.prototype.render=function(){return e.createElement(i,this.props)},o}(t.Component);return c.displayName="SideEffect("+function(t){return t.displayName||t.name||"Component"}(i)+")",c}}});
